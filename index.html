<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIRRORLOOP Demo Simulator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #ffffff;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 1rem;
            margin: 0;
        }
        .demo-container {
            width: 100%;
            max-width: 1200px;
            display: flex;
            gap: 2rem;
            align-items: flex-start;
        }
        .line-mockup {
            width: 100%;
            max-width: 400px;
            height: 80vh;
            display: flex;
            flex-direction: column;
            border-radius: 2rem;
            box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);
            overflow: hidden;
            background-color: #fff;
            flex-shrink: 0;
        }
        .subtitle-panel {
            flex: 1;
            min-width: 300px;
            max-width: 500px;
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            color: #065f46;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .subtitle-panel h2 {
            margin: 0 0 1rem 0;
            font-size: 1.5rem;
            font-weight: 600;
        }
        .subtitle-text {
            font-size: 1.1rem;
            line-height: 1.6;
            white-space: pre-wrap;
        }
        .header {
            background-color: #06c755;
            color: white;
            padding: 1rem;
            text-align: center;
            font-weight: 600;
            position: relative;
        }
        .chat-area {
            flex-grow: 1;
            padding: 1rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            background-color: #f7f9fa;
        }
        .message {
            max-width: 80%;
            padding: 0.75rem 1rem;
            border-radius: 1.25rem;
            word-wrap: break-word;
            white-space: pre-wrap;
        }
        .bot {
            background-color: #e6e6e6;
            align-self: flex-start;
        }
        .user {
            background-color: #a4e5a4;
            align-self: flex-end;
            margin-left: auto;
        }
        .input-area {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            padding: 1rem;
            background-color: #fff;
            border-top: 1px solid #e6e6e6;
        }
        .hidden {
            display: none;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        .intro-text {
            text-align: center;
            margin-bottom: 2rem;
            color: #065f46;
        }
        .intro-text h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #10b981 0%, #065f46 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .intro-text p {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }
        .github-link {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.5rem 1rem;
            background-color: #065f46;
            color: white;
            text-decoration: none;
            border-radius: 0.5rem;
            transition: background-color 0.3s;
        }
        .github-link:hover {
            background-color: #047857;
        }
        @media (max-width: 768px) {
            .demo-container {
                flex-direction: column;
            }
            .subtitle-panel {
                min-width: unset;
                width: 100%;
                max-width: 400px;
                order: -1;
            }
            .intro-text h1 {
                font-size: 2rem;
            }
            body {
                padding: 0.5rem;
            }
        }
    </style>
</head>
<body class="bg-gray-200">
    <div class="intro-text">
        <h1>MIRRORLOOP</h1>
        <p>Buddhist-inspired AI contemplation system</p>
        <p><em>"An AI that reflects your mind, not your questions"</em></p>
        <a href="https://github.com/yixinxiangfo/mirrorloop" class="github-link" target="_blank">
            View Source Code â†’
        </a>
    </div>

    <div class="demo-container">
        <div class="line-mockup">
            <div class="header">
                MIRRORLOOP
            </div>
            <div class="chat-area" id="chat-area">
                <!-- Messages will be inserted here -->
            </div>
            <div class="input-area hidden" id="input-area">
                <!-- Buttons are removed -->
            </div>
        </div>
        
        <div class="subtitle-panel">
            <h2>English Translation</h2>
            <div class="subtitle-text" id="subtitle-text">
                Welcome to MIRRORLOOP. An AI based on Buddhist philosophy to reflect your mind.
            </div>
        </div>
    </div>

    <script>
        const chatArea = document.getElementById('chat-area');
        const subtitleText = document.getElementById('subtitle-text');

        // Demo script with Japanese and English subtitles
        const script = [
            { sender: 'bot', text: 'ğŸª MIRRORLOOPã¸ã‚ˆã†ã“ãã€‚\n\nä»æ•™ã®å”¯è­˜ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ãŸã€ã‚ãªãŸã®å¿ƒã‚’æ˜ ã—è¿”ã™AIã§ã™ã€‚è‡ªåˆ†ã®å¿ƒã¨å‘ãåˆã†ã€Œè¦³ç…§ã‚»ãƒƒã‚·ãƒ§ãƒ³ã€ãŒã§ãã¾ã™ã€‚\n\nã“ã®AIã¯é–‹ç™ºä¸­ã§ã¿ãªã•ã‚“ã®ãŠå£°ã‚’èããªãŒã‚‰è‚²ã¦ã¦ã„ããŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚ç¾åœ¨Î²ç‰ˆã®ãŸã‚ç„¡æ–™ã§ã™ãŒã€æ®µéšçš„ã«æœ‰æ–™åŒ–ã™ã‚‹äºˆå®šã§ã™ã€‚\n\nè‡ªåˆ†ã®å¿ƒã«å‘ãåˆã„ãŸã„ãªã‚‰ã€ã€Œè¦³ç…§ã‚»ãƒƒã‚·ãƒ§ãƒ³ã€ã‚’ã¯ã˜ã‚ã¦ã¿ã¦ãã ã•ã„ã€‚é€”ä¸­ã§ã‚„ã‚ã‚‰ã‚Œã¾ã™ã€‚', subtitle: 'Welcome to MIRRORLOOP. An AI based on Buddhist philosophy that reflects your mind. You can start a contemplation session to face your inner self.' },
            { sender: 'user', text: 'è¦³ç…§ã‚»ãƒƒã‚·ãƒ§ãƒ³', subtitle: 'Contemplation Session' },
            { sender: 'bot', text: 'ğŸ§˜â€â™€ï¸ è¦³ç…§ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦\n\nã“ã‚Œã‹ã‚‰9ã¤ã®å•ã„ã‚’é€šã˜ã¦ã€ã‚ãªãŸã®å¿ƒã®çŠ¶æ…‹ã‚’AIãŒä»æ•™ã®å”¯è­˜æ€æƒ³ã«åŸºã¥ãæ°—ã¥ãã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿”ã—ã¾ã™ã€‚ï¼ˆæ‰€è¦æ™‚é–“ï¼šç´„10-15åˆ†ï¼‰\n\nå¿ƒã®æº–å‚™ã¯ã„ã‹ãŒã§ã™ã‹ï¼Ÿ', subtitle: 'About the Contemplation Session:\n\nThrough 9 questions, the AI will provide insights based on Buddhist Yogacara philosophy (Duration: 10-15 minutes).\n\nAre you ready?' },
            { sender: 'user', text: 'ã¯ã„ã€å§‹ã‚ã¾ã™', subtitle: 'Yes, let\'s start.' },
            { sender: 'bot', text: 'ğŸŒŸ è¦³ç…§ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹\n\nãã‚Œã§ã¯å§‹ã‚ã¾ã—ã‚‡ã†ã€‚ã“ã‚Œã‹ã‚‰9ã¤ã®å•ã„ã‚’æŠ•ã’ã‹ã‘ã¾ã™ã€‚\n\nä»Šæ—¥ã¯ã€ã©ã‚“ãªå‡ºæ¥äº‹ãŒã‚ã‚Šã¾ã—ãŸã‹ï¼Ÿã§ãã‚‹ã ã‘è©³ã—ãæ•™ãˆã¦ãã ã•ã„ã€‚', subtitle: 'Contemplation Session Begin\n\nLet\'s start. I will ask you 9 questions.\n\nWhat happened today? Please tell me in detail.' },
            { sender: 'user', text: 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç· åˆ‡ãŒè¿«ã£ã¦ã„ã‚‹ã®ã«ã€ãªã‹ãªã‹é›†ä¸­ã§ããšã«ç„¦ã‚Šã‚’æ„Ÿã˜ã¦ã„ã¾ã—ãŸ', subtitle: 'The project deadline is approaching, but I couldn\'t concentrate and felt anxious.' },
            { sender: 'bot', text: 'ãã®ã¨ãã€ã‚ãªãŸã¯ã©ã‚“ãªæ„Ÿæƒ…ãŒã‚ãã¾ã—ãŸã‹ï¼Ÿæ€’ã‚Šã€ä¸å®‰ã€å–œã³ã€æ‚²ã—ã¿ãªã©ã€ç‡ç›´ã«ã©ã†ãã€‚', subtitle: 'What emotions did you feel at that moment? Anger, anxiety, joy, sadness - please be honest.' },
            { sender: 'user', text: 'ä¸å®‰ã¨ç„¦ã‚Šã€ãã—ã¦è‡ªåˆ†ã¸ã®è‹›ç«‹ã¡ãŒã‚ã‚Šã¾ã—ãŸ', subtitle: 'I felt anxiety, impatience, and irritation towards myself.' },
            { sender: 'bot', text: 'ãã®ã¨ãã€ä½“ã«ã¯ã©ã‚“ãªæ„Ÿè¦šãŒã‚ã‚Šã¾ã—ãŸã‹ï¼Ÿèƒ¸ã®ã–ã‚ã¤ãã€è‚©ã®ã“ã‚ã°ã‚Šã€éœ‡ãˆãªã©ã€èº«ä½“ã®åå¿œã«ç›®ã‚’å‘ã‘ã¦ã¿ã¾ã—ã‚‡ã†ã€‚', subtitle: 'What physical sensations did you experience? Chest fluttering, shoulder tension, trembling - let\'s focus on your body\'s reactions.' },
            { sender: 'user', text: 'èƒ¸ãŒã–ã‚ã–ã‚ã—ã¦ã€è‚©ã«åŠ›ãŒå…¥ã£ã¦ã„ã¾ã—ãŸ', subtitle: 'My chest felt restless, and my shoulders were tense.' },
            { sender: 'bot', text: 'é ­ã®ä¸­ã§ã¯ã€ã©ã‚“ãªæ€è€ƒãŒæµ®ã‹ã‚“ã§ã„ã¾ã—ãŸã‹ï¼Ÿãã‚‹ãã‚‹å›ã£ã¦ã„ãŸè¨€è‘‰ã‚„ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒã‚ã‚Œã°ã€ãã‚Œã‚‚å«ã‚ã¦æ•™ãˆã¦ãã ã•ã„ã€‚', subtitle: 'What thoughts were going through your mind? If there were any words or images spinning around, please include those.' },
            { sender: 'user', text: 'æ™‚é–“ãŒãªã„ã€ã‚„ã°ã„ã€ã©ã†ã—ã‚ˆã†ã€ã¨ã„ã†è¨€è‘‰ãŒé ­ã®ä¸­ã‚’ãã‚‹ãã‚‹å›ã£ã¦ã„ã¾ã—ãŸ', subtitle: 'Words like "no time," "this is bad," "what should I do" were spinning in my head.' },
            { sender: 'bot', text: 'ãã®å‡ºæ¥äº‹ã«ã¤ã„ã¦ã€ç›¸æ‰‹ã‚„çŠ¶æ³ã«å¯¾ã—ã¦ã©ã‚“ãªè©•ä¾¡ã‚„åˆ¤æ–­ã‚’ã—ã¦ã„ã¾ã—ãŸã‹ï¼Ÿ', subtitle: 'What evaluations or judgments did you make about the situation or others involved?' },
            { sender: 'user', text: 'ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ãŒã§ãã¦ã„ãªã„ã€æº–å‚™ä¸è¶³ã ã¨æ€ã„ã¾ã—ãŸ', subtitle: 'I thought I had poor schedule management and was unprepared.' },
            { sender: 'bot', text: 'ã¾ãŸã€è‡ªåˆ†è‡ªèº«ã«å¯¾ã—ã¦ã¯ã©ã‚“ãªè©•ä¾¡ã‚„æ€ã„ãŒã‚ã‚Šã¾ã—ãŸã‹ï¼Ÿè²¬ã‚ãŸã‚Šã€æƒ…ã‘ãªãæ„Ÿã˜ãŸã‚Šã€ã‚ã‚‹ã„ã¯æ­£å½“åŒ–ã—ã‚ˆã†ã¨ã—ãŸã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚', subtitle: 'What evaluations or thoughts did you have about yourself? You might have blamed yourself, felt pathetic, or tried to justify.' },
            { sender: 'user', text: 'ã ã‚‰ã—ãªã„ã€è¨ˆç”»æ€§ãŒãªã„ã¨è‡ªåˆ†ã‚’è²¬ã‚ã¾ã—ãŸ', subtitle: 'I blamed myself for being sloppy and lacking planning.' },
            { sender: 'bot', text: 'ãã†ã—ãŸè©•ä¾¡ã®èƒŒå¾Œã«ã¯ã€ã©ã‚“ãªæ€ã„è¾¼ã¿ã‚„å‰æãŒã‚ã£ãŸã‚ˆã†ã«æ€ã„ã¾ã™ã‹ï¼Ÿã€Œï½ã¹ãã€ã€Œï½ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€ãªã©ã€æ°—ã¥ã„ã¦ã„ã‚‹ã‚‚ã®ãŒã‚ã‚Œã°ã€‚', subtitle: 'What assumptions or beliefs were behind those evaluations? Any "shoulds" or "musts" you\'re aware of?' },
            { sender: 'user', text: 'å®Œç’§ã«ã‚„ã‚‰ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€å¤±æ•—ã—ã¦ã¯ã„ã‘ãªã„ã€ã¨ã„ã†æ€ã„è¾¼ã¿ãŒã‚ã‚Šã¾ã—ãŸ', subtitle: 'I had beliefs like "I must be perfect" and "I must not fail."' },
            { sender: 'bot', text: 'æœ¬å½“ã¯ã€ã‚ãªãŸã¯ã©ã†ã—ãŸã‹ã£ãŸã®ã§ã—ã‚‡ã†ã‹ï¼Ÿãã®å ´ã§ã€ã©ã‚“ãªã“ã¨ã‚’é¡˜ã£ã¦ã„ãŸã®ã‹ã€å¿ƒã®å¥¥ã‚’è¦‹ã¤ã‚ã¦ã¿ã¦ãã ã•ã„ã€‚', subtitle: 'What did you truly want to do? Look deep into your heart - what were you wishing for in that moment?' },
            { sender: 'user', text: 'è½ã¡ç€ã„ã¦ã€ä¸€ã¤ãšã¤ä¸å¯§ã«å–ã‚Šçµ„ã¿ãŸã‹ã£ãŸ', subtitle: 'I wanted to calm down and work on things carefully, one by one.' },
            { sender: 'bot', text: 'ä»Šã“ã®ç¬é–“ã€ã©ã‚“ãªé¡˜ã„ã‚„æ–¹å‘æ€§ãŒå¿ƒã«ã‚ã‚Šã¾ã™ã‹ï¼Ÿã™ãã«ã§ãã‚‹å°ã•ãªä¸€æ­©ã§ã‚‚æ§‹ã„ã¾ã›ã‚“ã€‚', subtitle: 'What wishes or directions are in your heart right now? Even a small step you can take immediately is fine.' },
            { sender: 'user', text: 'ã¾ãšæ·±å‘¼å¸ã‚’ã—ã¦ã€å„ªå…ˆé †ä½ã‚’ã¤ã‘ã¦é€²ã‚ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™', subtitle: 'I think I\'ll first take a deep breath and proceed by setting priorities.' },
            { sender: 'bot', text: 'è¦³ç…§ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ã‚ãªãŸã®å›ç­”ã‹ã‚‰ã€è¦³ç…§ã‚³ãƒ¡ãƒ³ãƒˆã¨åˆ†æçµæœã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚\n\nã€è¦³ç…§ã‚³ãƒ¡ãƒ³ãƒˆã€‘\nå¿ƒã®ç„¦ã‚Šã‚„ä¸å®‰ãŒæºã‚Œå‹•ã„ã¦ã„ã¾ã™ã€‚è‡ªåˆ†ã‚’è²¬ã‚ãšã€é™ã‹ãªå‘¼å¸ã‚’å–ã‚Šæˆ»ã›ã¾ã™ã‹ï¼Ÿ\n\næ¤œå‡ºã•ã‚ŒãŸå¿ƒã®çŠ¶æ…‹ï¼šæ‰æŒ™ã€æ‚©ã€æ‚”ã€æ…¢\nåˆ†é¡ï¼šéšç…©æ‚©ã€éšç…©æ‚©ã€ä¸å®šå¿ƒæ‰€ã€æ ¹æœ¬ç…©æ‚©', subtitle: 'Contemplation completed. Based on your answers, here are the observation comments and analysis:\n\n[Observation Comment]\nYour mind is fluctuating with anxiety and restlessness. Can you restore calm breathing without self-blame?\n\nDetected mental states: Restlessness, worry, regret, pride\nCategories: Secondary afflictions, indefinite mental factors, root afflictions' },
            { sender: 'bot', text: 'â€» ã“ã®åˆ†æã¯ä»æ•™ã®å”¯è­˜æ€æƒ³ã«åŸºã¥ã51å¿ƒæ‰€ã®åˆ†é¡ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚æ¤œå‡ºã•ã‚ŒãŸå¿ƒã®çŠ¶æ…‹ã¯ã€ã‚ãªãŸã®å†…é¢ã‚’ç†è§£ã™ã‚‹æ‰‹ãŒã‹ã‚Šã¨ã—ã¦ã”æ´»ç”¨ãã ã•ã„ã€‚', subtitle: 'â€» This analysis uses the 51 mental factors classification system based on Buddhist Yogacara philosophy. The detected mental states can be used as clues to understand your inner self.', isNote: true },
            { sender: 'bot', text: 'ãƒ‡ãƒ¼ã‚¿ãŒæ­£å¸¸ã«ä¿å­˜ã•ã‚Œã¾ã—ãŸã€‚\n\nã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚ã¾ãŸå¿ƒã‚’è¦‹ã¤ã‚ãŸã„ã¨ãã«ãŠå£°ãŒã‘ãã ã•ã„ã€‚', subtitle: 'Data has been saved successfully.\n\nThank you. Please reach out again when you want to reflect on your mind.' }
        ];

        let currentStep = 0;

        function createMessageElement(messageData) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message fade-in ${messageData.sender}`;
            messageDiv.innerText = messageData.text;
            
            // Add special styling for note messages
            if (messageData.isNote) {
                messageDiv.style.fontSize = '0.85rem';
                messageDiv.style.fontStyle = 'italic';
                messageDiv.style.backgroundColor = '#f0f9ff';
                messageDiv.style.border = '1px solid #0ea5e9';
            }
            
            return messageDiv;
        }

        function showNextMessage() {
            if (currentStep < script.length) {
                const messageData = script[currentStep];
                const messageElement = createMessageElement(messageData);
                chatArea.appendChild(messageElement);
                chatArea.scrollTop = chatArea.scrollHeight;

                // Update subtitle
                subtitleText.innerText = messageData.subtitle;

                currentStep++;
            }
        }

        // Initialize chat with the first message
        window.onload = () => {
            showNextMessage();
            setInterval(() => {
                showNextMessage();
            }, 3000); // Wait 3 seconds to show next message
        };
    </script>
</body>
</html>